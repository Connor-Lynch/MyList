{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { AppRoutes } from 'src/app/models/app-routes';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/shopping-list.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/form-field\";\nexport let AddListDialogComponent = /*#__PURE__*/(() => {\n  class AddListDialogComponent {\n    constructor(shoppingListService, router, dialogRef, formBuilder) {\n      this.shoppingListService = shoppingListService;\n      this.router = router;\n      this.dialogRef = dialogRef;\n      this.formBuilder = formBuilder;\n      this.controlName = 'listName';\n      this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n      this.formGroup = this.formBuilder.group({\n        [this.controlName]: ['']\n      });\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    saveNewList() {\n      const newListName = this.formGroup.get(this.controlName).value?.trim();\n      if (!newListName) {\n        this.cancel();\n      }\n      const newShoppingList = {\n        name: newListName,\n        id: null,\n        createdDate: null,\n        items: null\n      };\n      this.saveNewShoppingList(newShoppingList);\n    }\n    cancel() {\n      this.dialogRef.close();\n    }\n    saveNewShoppingList(newList) {\n      this.shoppingListService.addShoppingList(newList).pipe(tap(newList => {\n        this.router.navigateByUrl(`/${AppRoutes.shoppingList.route}/${newList.id}`);\n        this.dialogRef.close();\n      }), takeUntil(this.destroy$)).subscribe();\n    }\n    static #_ = this.ɵfac = function AddListDialogComponent_Factory(t) {\n      return new (t || AddListDialogComponent)(i0.ɵɵdirectiveInject(i1.ShoppingListService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialogRef), i0.ɵɵdirectiveInject(i4.UntypedFormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddListDialogComponent,\n      selectors: [[\"app-add-list-dialog\"]],\n      decls: 9,\n      vars: 2,\n      consts: [[1, \"container\", \"p-3\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"w-full\", \"pb-3\"], [\"matInput\", \"\", \"placeholder\", \"New List\", \"type\", \"text\", 3, \"formControlName\"], [1, \"flex\", \"justify-content-between\"], [\"mat-stroked-button\", \"\", \"color\", \"warn\", \"id\", \"cancel-button\", 1, \"w-6\", \"mr-1\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"id\", \"save-button\", 1, \"w-6\", \"ml-1\", 3, \"click\"]],\n      template: function AddListDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function AddListDialogComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.saveNewList();\n          });\n          i0.ɵɵelementStart(2, \"mat-form-field\", 2);\n          i0.ɵɵelement(3, \"input\", 3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AddListDialogComponent_Template_button_click_5_listener() {\n            return ctx.cancel();\n          });\n          i0.ɵɵtext(6, \"Cancel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function AddListDialogComponent_Template_button_click_7_listener() {\n            return ctx.saveNewList();\n          });\n          i0.ɵɵtext(8, \"Save\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.formGroup);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formControlName\", ctx.controlName);\n        }\n      },\n      dependencies: [i5.MatButton, i6.MatInput, i7.MatFormField, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n      styles: [\".container[_ngcontent-%COMP%]{min-width:25vw}\"]\n    });\n  }\n  return AddListDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}